extends ../layout

block content
  .post-detail
    .post-header
      h1.post-title= post.title
      .post-meta
        p.post-location
          i.fas.fa-map-marker-alt
          span= post.location
        p.post-date
          i.fas.fa-calendar
          span= new Date(post.createdAt).toLocaleDateString()

    if post.image
      .post-image-container
        img.post-image-full(src=post.image alt=post.title)

    .post-content
      .post-description
        p= post.description

    .post-actions
      a.btn.secondary(href="/posts") Back to All Posts
      a.btn.primary(href=`/posts/${post._id}/edit`) Edit Story
      form.delete-form(
        action=`/posts/${post._id}/delete` 
        method="POST" 
        style="display: inline;"
        onsubmit="return confirm('Are you sure you want to delete this story?')"
      )
        button.btn.danger(type="submit") Delete Story
